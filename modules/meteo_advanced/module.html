<div class="weather-builder">
    <div class="config-section">
        <h3>ğŸ“ Position</h3>
        <div class="location-controls">
            <div class="search-box">
                <input type="text" id="search-input" placeholder="Rechercher une ville..." value="Alger">
                <div id="autocomplete-results" class="suggestions hidden"></div>
            </div>
            <div class="coords-box">
                <input type="number" id="lat-input" placeholder="Latitude" step="0.0001" value="36,73225">
                <input type="number" id="lon-input" placeholder="Longitude" step="0.0001" value="3,08746">
                <button id="geo-btn" title="Utiliser ma position GPS">ğŸ¯</button>
            </div>
        </div>
    </div>

    <div class="config-section">
        <h3>ğŸ“… Intervalle de temps</h3>
        <div class="date-controls">
            <label>Du : <input type="date" id="start-date"></label>
            <label>Au : <input type="date" id="end-date"></label>
        </div>
    </div>

    <div class="config-section">
        <h3>âš™ï¸ Variables Ã  extraire</h3>
        <div class="variables-grid">
    <div class="var-group">
        <h4>ğŸ“ Actuel (Current)</h4>
        <label><input type="checkbox" class="var-current" value="temperature_2m" checked> TempÃ©rature (2m)</label>
        <label><input type="checkbox" class="var-current" value="apparent_temperature"> Ressenti</label>
        <label><input type="checkbox" class="var-current" value="relative_humidity_2m"> HumiditÃ©</label>
        <label><input type="checkbox" class="var-current" value="is_day" checked> Jour/Nuit</label>
        <label><input type="checkbox" class="var-current" value="weather_code"> Code MÃ©tÃ©o</label>
        <label><input type="checkbox" class="var-current" value="pressure_msl"> Pression (Mer)</label>
        <label><input type="checkbox" class="var-current" value="wind_speed_10m"> Vent (10m)</label>
        <label><input type="checkbox" class="var-current" value="wind_gusts_10m"> Rafales</label>
    </div>

    <div class="var-group">
        <h4>â±ï¸ Horaire (Hourly)</h4>
        <div class="sub-category">-- Air --</div>
        <label><input type="checkbox" class="var-hourly" value="temperature_2m"> TempÃ©rature (2m)</label>
        <label><input type="checkbox" class="var-hourly" value="dew_point_2m"> Point de rosÃ©e</label>
        <label><input type="checkbox" class="var-hourly" value="precipitation_probability"> Proba. Pluie</label>
        <label><input type="checkbox" class="var-hourly" value="visibility"> VisibilitÃ©</label>
        
        <div class="sub-category">-- Ciel --</div>
        <label><input type="checkbox" class="var-hourly" value="cloud_cover"> Nuages (Total)</label>
        <label><input type="checkbox" class="var-hourly" value="cloud_cover_low"> Nuages (Bas)</label>
        <label><input type="checkbox" class="var-hourly" value="uv_index"> Indice UV</label>
        
        <div class="sub-category">-- Vent --</div>
        <label><input type="checkbox" class="var-hourly" value="wind_speed_10m"> Vent 10m</label>
        <label><input type="checkbox" class="var-hourly" value="wind_speed_80m"> Vent 80m</label>
        <label><input type="checkbox" class="var-hourly" value="wind_speed_180m"> Vent 180m</label>
        
        <div class="sub-category">-- Sol --</div>
        <label><input type="checkbox" class="var-hourly" value="soil_temperature_0cm"> Temp. Surface</label>
        <label><input type="checkbox" class="var-hourly" value="soil_moisture_0_to_1cm"> HumiditÃ© Sol</label>
    </div>

    <div class="var-group">
        <h4>ğŸ“… Quotidien (Daily)</h4>
        <div class="sub-category">-- TempÃ©ratures --</div>
        <label><input type="checkbox" class="var-daily" value="temperature_2m_max" checked> Max (2m)</label>
        <label><input type="checkbox" class="var-daily" value="temperature_2m_min" checked> Min (2m)</label>
        <label><input type="checkbox" class="var-daily" value="apparent_temperature_max"> Ressenti Max</label>
        
        <div class="sub-category">-- Soleil --</div>
        <label><input type="checkbox" class="var-daily" value="sunrise"> Lever soleil</label>
        <label><input type="checkbox" class="var-daily" value="sunset"> Coucher soleil</label>
        <label><input type="checkbox" class="var-daily" value="daylight_duration"> DurÃ©e Jour</label>
        <label><input type="checkbox" class="var-daily" value="uv_index_max"> UV Max</label>
        
        <div class="sub-category">-- PrÃ©cipitations --</div>
        <label><input type="checkbox" class="var-daily" value="precipitation_sum"> Total Pluie</label>
        <label><input type="checkbox" class="var-daily" value="rain_sum"> Pluie seule</label>
        <label><input type="checkbox" class="var-daily" value="snowfall_sum"> Neige</label>
        <label><input type="checkbox" class="var-daily" value="precipitation_hours"> Heures de pluie</label>
    </div>
</div>
    </div>

    <button id="fetch-btn" class="action-btn">GÃ‰NÃ‰RER LA REQUÃŠTE ğŸš€</button>

    <div class="results-section">
        <div class="panel">
            <h4>JSON Brut (Pour debug)</h4>
            <pre id="json-raw">En attente...</pre>
        </div>
        <div class="panel">
            <h4>AperÃ§u Visuel</h4>
            <div id="visual-render">En attente...</div>
        </div>
    </div>
</div>